{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Vue composable (`useTodoStore`) that manages to-do lists and tasks. It includes type definitions, reactive state, and functions for CRUD operations, interacting with an API backend via `ofetch`. The composable provides a state management layer for a to-do list application, enabling components to access and modify lists and tasks.", "external_files": ["vue", "#app", "ofetch", "./utils/nanoid", "./useToaster"], "external_methods": ["ref", "useRuntimeConfig", "ofetch.create", "useToaster.toastError"], "published": ["useTodoStore"], "classes": [], "methods": [{"name": "export function useTodoStore() { useTodoStore", "description": "Provides a store-like interface for managing to-do lists and tasks, including loading data, creating, updating, and deleting lists and tasks.", "scope": "", "scopeKind": ""}, {"name": "ensureLoaded", "description": "Loads initial data from the backend if not already loaded."}, {"name": "setActiveList", "description": "Sets the currently active to-do list."}, {"name": "createList", "description": "Creates a new to-do list via API."}, {"name": "renameList", "description": "Renames an existing to-do list via API."}, {"name": "deleteList", "description": "Deletes a to-do list via API and updates local state."}, {"name": "createTask", "description": "Creates a new task in a specified list via API."}, {"name": "updateTask", "description": "Updates a task in a specified list via API."}, {"name": "deleteTask", "description": "Deletes a task from a list via API."}], "calls": ["useRuntimeConfig", "ofetch.create", "useToaster.toastError", "api"], "search-terms": ["useTodoStore", "to-do lists", "tasks management", "Vue composable", "API interaction", "list CRUD", "task CRUD"], "state": 2, "file_id": 9, "knowledge_revision": 48, "git_revision": "38d7d9e46115fdbfa838e5461ae2a978bbac1568", "revision_history": [{"20": ""}, {"47": "38d7d9e46115fdbfa838e5461ae2a978bbac1568"}, {"48": "38d7d9e46115fdbfa838e5461ae2a978bbac1568"}], "ctags": [{"_type": "tag", "name": "Task", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^export type Task = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "TodoList", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^export type TodoList = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "activeListId", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^const activeListId = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^  const api = ofetch.create({$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "arr", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const arr = tasksByList.value[listId] || []$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const body = { name }$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const idx = arr.findIndex(t => t.id === taskId)$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const idx = lists.value.findIndex(l => l.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const list = await api<TodoList>('\\/lists', { method: 'POST', body })$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "listId", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const arr = tasksByList.value[listId] || []$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "lists", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^const lists = ref<TodoList[]>([])$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "loaded", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^const loaded = ref(false)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "public", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^  const { public: { apiBase } } = useRuntimeConfig()$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^      const res = await api<{ lists: TodoList[]; tasksByList: Record<string, Task[]> }>('\\/state/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const task = await api<Task>(`\\/lists\\/${listId}\\/tasks\\/${taskId}`, { method: 'PATCH', body/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const task = await api<Task>(`\\/lists\\/${listId}\\/tasks`, { method: 'POST', body: payload })$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "tasksByList", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^const tasksByList = ref<Record<string, Task[]>>({})$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "toastError", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^  const { toastError } = useToaster()$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^    const updated = await api<TodoList>(`\\/lists\\/${id}`, { method: 'PATCH', body: { name } })$/", "language": "TypeScript", "kind": "constant", "scope": "useTodoStore", "scopeKind": "function"}, {"_type": "tag", "name": "useTodoStore", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/composables/useTodoStore.ts", "pattern": "/^export function useTodoStore() {$/", "language": "TypeScript", "kind": "function"}], "hash": "de648ff5a7638e3f2df2fb1d3f3f5cd5", "format-version": 4, "code-base-name": "to_do_list_web_frontend", "filename": "to_do_list_web_frontend/composables/useTodoStore.ts"}