{"is_source_file": true, "format": "TypeScript", "description": "This file defines utility functions and types for managing the state of a to-do list application, including functions for reading and writing state, creating new lists and tasks, and importing necessary modules.", "external_files": ["../../composables/utils/nanoid", "h3"], "external_methods": ["readBody"], "published": ["TodoList", "Task", "readState", "writeState", "newList", "newTask"], "classes": [], "methods": [{"name": "export async function readState(): Promise<{lists: TodoList[]; tasksByList: Record<string, Task[/ readState", "description": "Asynchronously retrieves the current to-do list state from storage, initializing with a default 'Inbox' list if no data exists.", "scope": "", "scopeKind": ""}, {"name": "export async function writeState(state: {lists: TodoList[]; tasksByList: Record<string, Task[]>}/ writeState", "description": "Asynchronously saves the provided to-do list state to storage.", "scope": "", "scopeKind": ""}, {"name": "export function newList(name: string): TodoList { newList", "description": "Creates a new to-do list object with a given name and a generated ID and timestamps.", "scope": "", "scopeKind": ""}, {"name": "export function newTask(listId: string, title: string): Task { newTask", "description": "Creates a new task object associated with a specified list ID and title, with default properties and a generated ID and timestamps.", "scope": "", "scopeKind": ""}], "calls": ["useStorage()", "storage.getItem(STORAGE_KEY)", "storage.setItem(STORAGE_KEY, ...)", "new Date().toISOString()", "nanoid(12)"], "search-terms": ["state management", "todo list", "TypeScript types", "storage", "task creation", "list creation"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^const STORAGE_KEY = 'ocean_todo_state'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Task", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export type Task = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "TodoList", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export type TodoList = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const data = await storage.getItem(STORAGE_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "initial", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const initial = {$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "listA", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const listA: TodoList = { id: 'inbox', name: 'Inbox', color: '#93c5fd', createdAt: now, update/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "newList", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export function newList(name: string): TodoList {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "newTask", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export function newTask(listId: string, title: string): Task {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const now = new Date().toISOString()$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "readState", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export async function readState(): Promise<{lists: TodoList[]; tasksByList: Record<string, Task[/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const storage = useStorage()$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const storage = useStorage()$/", "language": "TypeScript", "kind": "constant", "scope": "writeState", "scopeKind": "function"}, {"_type": "tag", "name": "tasksByList", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^    tasksByList: {$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "ts", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const ts = new Date().toISOString()$/", "language": "TypeScript", "kind": "constant", "scope": "newList", "scopeKind": "function"}, {"_type": "tag", "name": "ts", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const ts = new Date().toISOString()$/", "language": "TypeScript", "kind": "constant", "scope": "newTask", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^  const listA: TodoList = { id: 'inbox', name: 'Inbox', color: '#93c5fd', createdAt: now, update/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "writeState", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/utils/state.ts", "pattern": "/^export async function writeState(state: {lists: TodoList[]; tasksByList: Record<string, Task[]>}/", "language": "TypeScript", "kind": "function"}], "hash": "3a3f69c9674e3603f48d76b940afe424", "format-version": 4, "code-base-name": "to_do_list_web_frontend", "filename": "to_do_list_web_frontend/server/utils/state.ts", "revision_history": [{"27": ""}]}