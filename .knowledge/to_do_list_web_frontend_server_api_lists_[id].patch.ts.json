{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API route handler for updating a list item in a to-do list application. It processes the request, retrieves the list ID from URL parameters, reads the request body for updates, updates the list in the application state, and returns the updated list.", "external_files": ["../../utils/state", "h3"], "external_methods": ["readBody", "readState", "writeState", "createError", "defineEventHandler"], "published": [], "classes": [], "methods": [{"name": "defineEventHandler", "description": "Defines an API event handler for the server endpoint."}, {"name": "readBody", "description": "Reads and parses the request body into a specified type."}, {"name": "readState", "description": "Retrieves the current application state."}, {"name": "writeState", "description": "Persists the updated application state."}], "calls": ["readBody", "readState", "writeState", "createError", "event.context.params?.id"], "search-terms": ["list update API", "list ID parameter", "list state management", "PATCH /api/lists/[id]", "to_do_list_web_frontend"], "state": 2, "file_id": 15, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const body = await readBody<{name?:string}> (event)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const id = event.context.params?.id as string$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const idx = state.lists.findIndex(l => l.id === id)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const list = state.lists[idx]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const list = state.lists[idx]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const state = await readState()$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/simple-to-do-organizer-16812-16824/to_do_list_web_frontend/server/api/lists/[id].patch.ts", "pattern": "/^  const updated = { ...list, ...('name' in body ? { name: body.name } : {}), updatedAt: new Date/", "language": "TypeScript", "kind": "constant"}], "hash": "fe116540dc5de9b96bed0bd03a9e3b83", "format-version": 4, "code-base-name": "to_do_list_web_frontend", "filename": "to_do_list_web_frontend/server/api/lists/[id].patch.ts", "revision_history": [{"31": ""}]}